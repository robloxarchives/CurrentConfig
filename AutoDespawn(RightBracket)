local UserInputService = game:GetService("UserInputService")
local RunService = game:GetService("RunService")
local player = game:GetService("Players").LocalPlayer
local remote = player:WaitForChild("TCP")

-- Toggle state
local toggled = false
local lastTick = 0
local fireCooldown = 0.34 -- Slower than before to prevent kick
-- Anything under 0.34 milliseconds will instant kick you.

-- On-screen status text
local text = Drawing.new("Text")
text.Text = "Despawning..."
text.Color = Color3.new(0, 1, 0)
text.Size = 25
text.Center = true
text.Outline = true
text.Visible = false
text.Position = workspace.CurrentCamera.ViewportSize / 2 + Vector2.new(0, 40)

-- Toggle with RightBracket
UserInputService.InputBegan:Connect(function(input, gameProcessed)
	if gameProcessed then return end
	if input.KeyCode == Enum.KeyCode.RightBracket then
		toggled = not toggled
		text.Visible = toggled
	end
end)

-- Loop
RunService.Heartbeat:Connect(function()
	if toggled and (tick() - lastTick) >= fireCooldown then
		lastTick = tick()
		for i = 1, 43 do
			local flag = i < 14
			remote:FireServer(7, i, flag)
		end
	end
end)
